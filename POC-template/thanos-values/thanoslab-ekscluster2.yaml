fullnameOverride: "thanoslab-${CLUSTER_NAME_2}"
commonLabels: 
  thanos_name: "thanoslab"

existingObjstoreSecret: "bitnami-thanos-s3-config-${CLUSTER_NAME_2}"

# easy to exec for troubleshooting
image:
  registry: quay.io
  repository: thanos/thanos
  tag: v0.33.0
  digest: ""
  pullPolicy: IfNotPresent

query:
  enabled: false
queryFrontend:
  enabled: false

bucketweb:
  enabled: false
  serviceAccount:
    create: false
    name: "thanos-store-${CLUSTER_NAME_2}"
  service:
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: "external"
      service.beta.kubernetes.io/aws-load-balancer-scheme: "internal"
compactor:
  enabled: true
  serviceAccount:
    create: false
    name: "thanos-store-${CLUSTER_NAME_2}"

storegateway:
  enabled: true
  serviceAccount:
    create: false
    name: "thanos-store-${CLUSTER_NAME_2}"
  persistence:
    enabled: true
    accessModes:
      - ReadWriteOnce
    size: 10Gi

ruler:
  enabled: false

receive:
  enabled: true
  mode: standalone
  # args: 
  extraFlags: 
  - --label=cluster="${CLUSTER_NAME_2}"
  - --label=cluster_name="${CLUSTER_NAME_2}"
  - --label=origin_prometheus="${CLUSTER_NAME_2}"
  - --receive.default-tenant-id=${CLUSTER_NAME_2}
  replicaCount: 2
  service:
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: "external"
      service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
      external-dns.alpha.kubernetes.io/hostname: "thanoslab-receive-cluster2.${DOMAIN_NAME}"
  serviceAccount:
    create: false
    name: "thanos-receive-${CLUSTER_NAME_2}"
  persistence:
    enabled: true
    accessModes:
      - ReadWriteOnce
    size: 20Gi
